---
slug: ultrarag-2.0-release
title: "UltraRAG 2.0: Minimal Code, Maximum Innovation"
authors: [ms,xhd,pcy]
tags: [release, ultrarag]
date: 2025-08-28
---

import { En, Zh } from '@site/src/components/Lang';

<En>

Retrieval-Augmented Generation (RAG) systems are evolving from the early simple "retrieval + generation" concatenation toward complex knowledge systems integrating adaptive knowledge organization, multi-round reasoning, and dynamic retrieval (typical examples include DeepResearch and Search-o1). However, this increase in complexity creates high engineering implementation costs for developers when reproducing methods and rapidly iterating on new ideas.

To address this pain point, Tsinghua University's THUNLP Lab, Northeastern University's NEUIR Lab, OpenBMB, and AI9Stars jointly launch UltraRAG 2.0 (UR-2.0) â€” **the first RAG framework designed with Model Context Protocol (MCP) architecture**. This design allows researchers to declare complex logic such as serial execution, loops, and conditional branches directly by writing YAML files, enabling rapid implementation of multi-stage reasoning systems with minimal code.

UltraRAG 2.0 highlights at a glance:

- ğŸ§© Component-based Encapsulation: Encapsulates core RAG components as standardized independent MCP Servers;

- ğŸ”Œ Flexible Invocation & Extension: Provides function-level Tool interfaces supporting flexible invocation and extension of capabilities;

- ğŸª„ Lightweight Pipeline Orchestration: Leverages MCP Client to establish streamlined top-down pipeline construction; Compared to traditional frameworks, UltraRAG 2.0 significantly lowers the technical threshold and learning cost of complex RAG systems, allowing researchers to invest more energy in experimental design and algorithm innovation rather than getting bogged down in lengthy engineering implementation.

## Simplifying Complexity â€” Only 5% Code for Low-Barrier Reproduction

The value of "simplicity" is particularly intuitive in practice. Taking IRCoT (https://arxiv.org/abs/2212.10509), a classic method, as an example â€” it relies on CoT generated by the model for multi-round retrieval until producing the final answer, making the overall process quite complex.

In the official implementation, the Pipeline portion alone requires nearly 900 lines of handwritten logic; even using other RAG frameworks still requires over 110 lines of code. In contrast, UltraRAG 2.0 achieves equivalent functionality with only about 50 lines of code. More notably, approximately half of that is YAML pseudo-code for orchestration, dramatically lowering the development threshold and implementation cost.

## Simple Yet Extraordinary â€” Dozens of Lines of Code for High-Performance RAG Systems

For UltraRAG 2.0, "simplicity" does not mean limited functionality. Leveraging the MCP architecture and flexible YAML pipeline definitions, UltraRAG 2.0 provides researchers with a high-performance, extensible experimental platform. **Researchers can build multi-stage reasoning systems similar to DeepResearch in a very short time**, supporting advanced capabilities like **dynamic retrieval, conditional judgment, and multi-round interaction**.

In the example, we concatenate **Retriever, Generation, Router** and other modules through YAML to build a reasoning pipeline with both loops and conditional branches, implementing key steps like **Plan Generation â†’ Knowledge Organization â†’ Sub-question Generation** â€” all in **under 100 lines of code**.

</En>

<Zh>

æ£€ç´¢å¢å¼ºç”Ÿæˆç³»ç»Ÿï¼ˆRAGï¼‰æ­£ä»æ—©æœŸ"æ£€ç´¢+ç”Ÿæˆ"çš„ç®€å•æ‹¼æ¥ï¼Œèµ°å‘èåˆè‡ªé€‚åº”çŸ¥è¯†ç»„ç»‡ã€å¤šè½®æ¨ç†ã€åŠ¨æ€æ£€ç´¢çš„å¤æ‚çŸ¥è¯†ç³»ç»Ÿï¼ˆå…¸å‹ä»£è¡¨å¦‚ DeepResearchã€Search-o1ï¼‰ã€‚ä½†è¿™ç§å¤æ‚åº¦çš„æå‡ï¼Œä½¿å¼€å‘è€…åœ¨æ–¹æ³•å¤ç°ã€å¿«é€Ÿè¿­ä»£æ–°æƒ³æ³•æ—¶ï¼Œé¢ä¸´ç€é«˜æ˜‚çš„å·¥ç¨‹å®ç°æˆæœ¬ã€‚

ä¸ºäº†è§£å†³è¿™ä¸€ç—›ç‚¹ï¼Œæ¸…åå¤§å­¦ THUNLP å®éªŒå®¤ã€ä¸œåŒ—å¤§å­¦ NEUIR å®éªŒå®¤ã€OpenBMB ä¸ AI9Stars è”åˆæ¨å‡º UltraRAG 2.0 ï¼ˆUR-2.0ï¼‰â€”â€” **é¦–ä¸ªåŸºäº Model Context Protocol (MCP) æ¶æ„è®¾è®¡çš„ RAG æ¡†æ¶**ã€‚è¿™ä¸€è®¾è®¡è®©ç§‘ç ”äººå‘˜åªéœ€ç¼–å†™ YAML æ–‡ä»¶ï¼Œå°±å¯ä»¥ç›´æ¥å£°æ˜ä¸²è¡Œã€å¾ªç¯ã€æ¡ä»¶åˆ†æ”¯ç­‰å¤æ‚é€»è¾‘ï¼Œä»è€Œä»¥æä½çš„ä»£ç é‡å¿«é€Ÿå®ç°å¤šé˜¶æ®µæ¨ç†ç³»ç»Ÿã€‚

UltraRAG 2.0 äº®ç‚¹ä¸€è§ˆï¼š

- ğŸ§© ç»„ä»¶åŒ–å°è£…ï¼šå°† RAG çš„æ ¸å¿ƒç»„ä»¶å°è£…ä¸ºæ ‡å‡†åŒ–çš„ç‹¬ç«‹ MCP Serverï¼›

- ğŸ”Œ çµæ´»è°ƒç”¨ä¸æ‰©å±•ï¼šæä¾›å‡½æ•°çº§ Tool æ¥å£ï¼Œæ”¯æŒåŠŸèƒ½çš„çµæ´»è°ƒç”¨ä¸æ‰©å±•ï¼›

- ğŸª„ è½»é‡æµç¨‹ç¼–æ’ï¼šå€ŸåŠ© MCP Clientï¼Œå»ºç«‹è‡ªä¸Šè€Œä¸‹çš„ç®€æ´åŒ–é“¾è·¯æ­å»ºï¼›ä¸ä¼ ç»Ÿæ¡†æ¶ç›¸æ¯”ï¼ŒUltraRAG 2.0 æ˜¾è‘—é™ä½äº†å¤æ‚ RAG ç³»ç»Ÿçš„æŠ€æœ¯é—¨æ§›ä¸å­¦ä¹ æˆæœ¬ï¼Œè®©ç ”ç©¶è€…èƒ½å¤Ÿå°†æ›´å¤šç²¾åŠ›æŠ•å…¥åˆ°å®éªŒè®¾è®¡ä¸ç®—æ³•åˆ›æ–°ä¸Šï¼Œè€Œä¸æ˜¯é™·å…¥å†—é•¿çš„å·¥ç¨‹å®ç°ã€‚

## åŒ–ç¹ä¸ºç®€â€”â€”ä»… 5% ä»£ç å®ç°ä½é—¨æ§›å¤ç°

ã€Œç®€ã€çš„ä»·å€¼ï¼Œåœ¨å®è·µä¸­å°¤ä¸ºç›´è§‚ã€‚ä»¥ IRCoTï¼ˆhttps://arxiv.org/abs/2212.10509ï¼‰è¿™ä¸€ç»å…¸æ–¹æ³•ä¸ºä¾‹ï¼Œå®ƒä¾èµ–åŸºäºæ¨¡å‹ç”Ÿæˆçš„ CoT è¿›è¡Œå¤šè½®æ£€ç´¢ç›´è‡³äº§å‡ºæœ€ç»ˆç­”æ¡ˆï¼Œæ•´ä½“æµç¨‹ç›¸å½“å¤æ‚ã€‚

åœ¨å®˜æ–¹å®ç°ä¸­ï¼Œä»… Pipeline éƒ¨åˆ†å°±éœ€è¦è¿‘ 900 è¡Œæ‰‹å†™é€»è¾‘ï¼›å³ä¾¿ä½¿ç”¨å…¶ä»– RAG æ¡†æ¶ï¼Œä¹Ÿä»éœ€è¶…è¿‡ 110 è¡Œä»£ç ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒUltraRAG 2.0 åªéœ€çº¦ 50 è¡Œä»£ç å³å¯å®ŒæˆåŒç­‰åŠŸèƒ½ã€‚æ›´å€¼å¾—å¼ºè°ƒçš„æ˜¯ï¼Œå…¶ä¸­çº¦ä¸€åŠè¿˜æ˜¯ç”¨äºç¼–æ’çš„ Yaml ä¼ªä»£ç ï¼Œè¿™å¤§å¹…é™ä½äº†å¼€å‘é—¨æ§›ä¸å®ç°æˆæœ¬ã€‚

## ç®€è€Œä¸å‡¡â€”â€”æ•°åè¡Œä»£ç å®ç°é«˜æ€§èƒ½RAGç³»ç»Ÿ

å¯¹ UltraRAG 2.0 è€Œè¨€ï¼Œã€Œç®€ã€å¹¶ä¸æ„å‘³ç€åŠŸèƒ½å—é™ã€‚å€ŸåŠ© MCP æ¶æ„ä¸çµæ´»çš„ YAML æµç¨‹å®šä¹‰ï¼ŒUltraRAG 2.0 ä¸ºç§‘ç ”äººå‘˜æä¾›äº†ä¸€ä¸ªé«˜æ€§èƒ½ã€å¯æ‰©å±•çš„å®éªŒå¹³å°ã€‚**ç ”ç©¶è€…å¯ä»¥åœ¨æçŸ­æ—¶é—´å†…æ­å»ºå‡ºç±»ä¼¼ DeepResearch çš„å¤šé˜¶æ®µæ¨ç†ç³»ç»Ÿ**ï¼Œæ”¯æŒ **åŠ¨æ€æ£€ç´¢ã€æ¡ä»¶åˆ¤æ–­ã€å¤šè½®äº¤äº’** ç­‰é«˜çº§èƒ½åŠ›ã€‚

åœ¨ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°† **Retrieverã€Generationã€Router** ç­‰æ¨¡å—é€šè¿‡ YAML ä¸²è”ï¼Œæ„å»ºäº†ä¸€ä¸ªåŒæ—¶å…·å¤‡å¾ªç¯ä¸æ¡ä»¶åˆ†æ”¯çš„æ¨ç†æµç¨‹ï¼Œå®ç°äº† **Plan ç”Ÿæˆ â†’ çŸ¥è¯†æ•´ç† â†’ å­é—®é¢˜ç”Ÿæˆ** ç­‰å…³é”®æ­¥éª¤ï¼Œè€Œè¿™ä¸€åˆ‡ä»…éœ€ **ä¸åˆ° 100 è¡Œä»£ç **ã€‚

</Zh>

<!-- truncate -->

![UltraRAG 2.0 å›¾ç¤º 1](./asset/2025-08-28-ultrarag-2.0-release/1.png)

<En>

In terms of performance, this system achieves a **~12% performance improvement** over Vanilla RAG on complex multi-hop questions, fully validating UltraRAG 2.0's potential in rapidly building complex reasoning systems.

</En>

<Zh>

åœ¨æ€§èƒ½ä¸Šï¼Œè¯¥ç³»ç»Ÿåœ¨å¤æ‚å¤šè·³é—®é¢˜ä¸Šï¼Œç›¸è¾ƒ Vanilla RAG **æ€§èƒ½æå‡çº¦ 12%**ï¼Œå……åˆ†éªŒè¯äº† UltraRAG 2.0 åœ¨å¿«é€Ÿæ„å»ºå¤æ‚æ¨ç†ç³»ç»Ÿæ–¹é¢çš„æ½œåŠ›ã€‚

</Zh>

![UltraRAG 2.0 å›¾ç¤º 2](./asset/2025-08-28-ultrarag-2.0-release/2.png)

<En>

UltraRAG 2.0 makes building complex reasoning systems truly **low-code, high-performance, and production-ready**. Users can not only achieve performance improvements in research tasks but also quickly deploy in industry applications such as intelligent customer service, educational tutoring, and medical QA, delivering more reliable knowledge-enhanced answers.

## MCP Architecture and Native Pipeline Control

Across different RAG systems, core capabilities like retrieval and generation are functionally highly similar, but due to varying developer implementation strategies, modules often lack unified interfaces and are difficult to reuse across projects. Model Context Protocol (MCP), as an open protocol, standardizes the way context is provided for Large Language Models (LLMs) and adopts a Client-Server architecture, enabling Server components developed following this protocol to be seamlessly reused across different systems.

Inspired by this, UltraRAG 2.0 abstracts and encapsulates core RAG functions such as retrieval, generation, and evaluation as mutually independent MCP Servers based on the MCP architecture, with invocation through standardized function-level Tool interfaces. This design ensures flexibility in module capability extension while allowing new modules to be integrated in a "hot-pluggable" manner without invasive modifications to the overall codebase. In research scenarios, this architecture enables researchers to rapidly adapt to new models or algorithms with minimal code while maintaining the stability and consistency of the overall system.

</En>

<Zh>

UltraRAG 2.0 è®©å¤æ‚æ¨ç†ç³»ç»Ÿçš„æ„å»ºçœŸæ­£åšåˆ° ä½ä»£ç ã€é«˜æ€§èƒ½ã€å¯è½åœ°ã€‚ç”¨æˆ·ä¸ä»…èƒ½åœ¨ç§‘ç ”ä»»åŠ¡ä¸­è·å¾—æ€§èƒ½æå‡ï¼Œä¹Ÿèƒ½å¤Ÿåœ¨è¡Œä¸šåº”ç”¨ä¸­å¿«é€Ÿè½åœ°ï¼Œä¾‹å¦‚æ™ºèƒ½å®¢æœã€æ•™è‚²è¾…å¯¼ã€åŒ»ç–—é—®ç­”ç­‰å…¸å‹åœºæ™¯ï¼Œè¾“å‡ºæ›´å¯é çš„çŸ¥è¯†å¢å¼ºç­”æ¡ˆã€‚

## MCP æ¶æ„ä¸åŸç”Ÿæµç¨‹æ§åˆ¶

åœ¨ä¸åŒçš„ RAG ç³»ç»Ÿä¸­ï¼Œæ£€ç´¢ã€ç”Ÿæˆç­‰æ ¸å¿ƒèƒ½åŠ›åœ¨åŠŸèƒ½ä¸Šå…·æœ‰é«˜åº¦ç›¸ä¼¼æ€§ï¼Œä½†ç”±äºå¼€å‘è€…å®ç°ç­–ç•¥å„å¼‚ï¼Œæ¨¡å—ä¹‹é—´å¾€å¾€ç¼ºä¹ç»Ÿä¸€æ¥å£ï¼Œéš¾ä»¥è·¨é¡¹ç›®å¤ç”¨ã€‚Model Context Protocol (MCP) ä½œä¸ºä¸€ç§å¼€æ”¾åè®®ï¼Œè§„èŒƒäº†ä¸ºå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰æä¾›ä¸Šä¸‹æ–‡çš„æ ‡å‡†æ–¹å¼ï¼Œå¹¶é‡‡ç”¨ Clientâ€“Server æ¶æ„ï¼Œä½¿å¾—éµå¾ªè¯¥åè®®å¼€å‘çš„ Server ç»„ä»¶å¯ä»¥åœ¨ä¸åŒç³»ç»Ÿé—´æ— ç¼å¤ç”¨ã€‚

å—æ­¤å¯å‘ï¼ŒUltraRAG 2.0 åŸºäº MCP æ¶æ„ï¼Œå°† RAG ç³»ç»Ÿä¸­çš„æ£€ç´¢ã€ç”Ÿæˆã€è¯„æµ‹ç­‰æ ¸å¿ƒåŠŸèƒ½æŠ½è±¡å¹¶å°è£…ä¸ºç›¸äº’ç‹¬ç«‹çš„ MCP Serverï¼Œå¹¶é€šè¿‡æ ‡å‡†åŒ–çš„å‡½æ•°çº§ Tool æ¥å£å®ç°è°ƒç”¨ã€‚è¿™ä¸€è®¾è®¡æ—¢ä¿è¯äº†æ¨¡å—åŠŸèƒ½æ‰©å±•çš„çµæ´»æ€§ï¼Œåˆå…è®¸æ–°æ¨¡å—ä»¥"çƒ­æ’æ‹”"çš„æ–¹å¼æ¥å…¥ï¼Œæ— éœ€å¯¹å…¨å±€ä»£ç è¿›è¡Œä¾µå…¥å¼ä¿®æ”¹ã€‚åœ¨ç§‘ç ”åœºæ™¯ä¸­ï¼Œè¿™ç§æ¶æ„è®©ç ”ç©¶è€…èƒ½å¤Ÿä»¥æä½çš„ä»£ç é‡å¿«é€Ÿé€‚é…æ–°çš„æ¨¡å‹æˆ–ç®—æ³•ï¼ŒåŒæ—¶ä¿æŒæ•´ä½“ç³»ç»Ÿçš„ç¨³å®šæ€§ä¸ä¸€è‡´æ€§ã€‚

</Zh>

![UltraRAG 2.0 å›¾ç¤º 3](./asset/2025-08-28-ultrarag-2.0-release/3.png)

<En>

The development of complex RAG reasoning frameworks is significantly challenging, **and the reason UltraRAG 2.0 can support complex system construction under low-code conditions lies in its underlying native support for multi-structure Pipeline flow control**. Whether serial, loop, or conditional branch, all control logic can be defined and scheduled at the YAML level, covering various process expression methods required by complex reasoning tasks. During actual execution, reasoning process scheduling is performed by the built-in Client, whose logic is entirely described by external Pipeline YAML scripts written by users, achieving decoupling from the underlying implementation. Developers can invoke instructions like loop and step like programming language keywords, rapidly building multi-stage reasoning pipelines in a declarative manner.

By deeply integrating MCP architecture with native process control, UltraRAG 2.0 makes building complex RAG systems as natural and efficient as "orchestrating workflows." Additionally, the framework includes **17 mainstream benchmark tasks and multiple high-quality baselines**, combined with a unified evaluation system and knowledge base support, further improving system development efficiency and experimental reproducibility.

</En>

<Zh>

å¤æ‚ RAG æ¨ç†æ¡†æ¶çš„å¼€å‘å…·æœ‰æ˜¾è‘—æŒ‘æˆ˜ï¼Œ**è€Œ UltraRAG 2.0 ä¹‹æ‰€ä»¥èƒ½å¤Ÿåœ¨ä½ä»£ç æ¡ä»¶ä¸‹æ”¯æŒå¤æ‚ç³»ç»Ÿçš„æ„å»ºï¼Œæ ¸å¿ƒåœ¨äºå…¶åº•å±‚å¯¹å¤šç»“æ„ Pipeline æµç¨‹æ§åˆ¶çš„åŸç”Ÿæ”¯æŒ**ã€‚æ— è®ºæ˜¯ä¸²è¡Œã€å¾ªç¯è¿˜æ˜¯æ¡ä»¶åˆ†æ”¯ï¼Œæ‰€æœ‰æ§åˆ¶é€»è¾‘å‡å¯åœ¨ YAML å±‚å®Œæˆå®šä¹‰ä¸è°ƒåº¦ï¼Œè¦†ç›–å¤æ‚æ¨ç†ä»»åŠ¡æ‰€éœ€çš„å¤šç§æµç¨‹è¡¨è¾¾æ–¹å¼ã€‚åœ¨å®é™…è¿è¡Œä¸­ï¼Œæ¨ç†æµç¨‹çš„è°ƒåº¦ç”±å†…ç½® Client æ‰§è¡Œï¼Œå…¶é€»è¾‘å®Œå…¨ç”±ç”¨æˆ·ç¼–å†™çš„å¤–éƒ¨ Pipeline YAML è„šæœ¬æè¿°ï¼Œä»è€Œå®ç°ä¸åº•å±‚å®ç°çš„è§£è€¦ã€‚å¼€å‘è€…å¯ä»¥åƒä½¿ç”¨ç¼–ç¨‹è¯­è¨€å…³é”®å­—ä¸€æ ·è°ƒç”¨ loopã€step ç­‰æŒ‡ä»¤ï¼Œä»¥å£°æ˜å¼æ–¹å¼å¿«é€Ÿæ„å»ºå¤šé˜¶æ®µæ¨ç†æµç¨‹ã€‚

é€šè¿‡å°† MCP æ¶æ„ ä¸ åŸç”Ÿæµç¨‹æ§åˆ¶æ·±åº¦èåˆï¼ŒUltraRAG 2.0 è®©å¤æ‚ RAG ç³»ç»Ÿçš„æ­å»ºåƒ"ç¼–æ’æµç¨‹"ä¸€æ ·è‡ªç„¶é«˜æ•ˆã€‚æ­¤å¤–ï¼Œæ¡†æ¶å†…ç½® **17 ä¸ªä¸»æµ benchmark ä»»åŠ¡ä¸å¤šç§é«˜è´¨é‡ baseline**ï¼Œé…åˆç»Ÿä¸€çš„è¯„æµ‹ä½“ç³»ä¸çŸ¥è¯†åº“æ”¯æŒï¼Œè¿›ä¸€æ­¥æå‡äº†ç³»ç»Ÿå¼€å‘çš„æ•ˆç‡ä¸å®éªŒçš„å¯å¤ç°æ€§ã€‚

</Zh>
